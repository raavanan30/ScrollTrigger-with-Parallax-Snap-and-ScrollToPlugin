!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).window=e.window||{})}(this,function(e){"use strict";function z(e){return e}function A(){return"undefined"!=typeof window}function B(){return xe||A()&&(xe=window.gsap)&&xe.registerPlugin&&xe}function C(e){return!!~i.indexOf(e)}function D(t,e){var r=e.s;return function(e){return arguments.length?t[r]=e:t[r]}}function E(e,t){var r=t.s,n=t.d2;return(r="scroll"+n)&&C(e)?Math.max(y[r],Te[r])-(ye["inner"+n]||y["client"+n]||Te["client"+n]):e[r]-e["offset"+n]}function F(e){return"string"==typeof e}function G(e){return"function"==typeof e}function H(e){return"number"==typeof e}function I(e){return"object"==typeof e}function ba(e){return ye.getComputedStyle(e)}function da(e,t){for(var r in t)r in e||(e[r]=t[r]);return e}function ea(e,t){var r=t&&"matrix(1, 0, 0, 1, 0, 0)"!==ba(e)[f]&&xe.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),n=e.getBoundingClientRect();return r&&r.progress(0).kill(),n}function fa(e,t){var r=t.d2;return e["offset"+r]||e["client"+r]||0}function ha(t,r,e,n){return e.split(",").forEach(function(e){return t(r,e,n)})}function ia(e,t,r){return e.addEventListener(t,r,{passive:!0})}function ja(e,t,r){return e.removeEventListener(t,r)}function na(e,t){if(F(e)){var r=e.indexOf("="),n=~r?(e.charAt(r-1)+1)*parseFloat(e.substr(r+1)):0;n&&(e.indexOf("%")>r&&(n*=t/100),e=e.substr(0,r-1)),e=n+(e in g?g[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e}function oa(e,t,r,n,o,i,a){var s=o.startColor,l=o.endColor,c=o.fontSize,f=o.indent,u=o.fontWeight,p=we.createElement("div"),d=C(r),g=-1!==e.indexOf("scroller"),h=d?Te:r,v=-1!==e.indexOf("start"),m=v?s:l,b="border-color:"+m+";font-size:"+c+";color:"+m+";font-weight:"+u+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return b+="position:"+(g&&d?"fixed;":"absolute;"),!g&&d||(b+=(n===Xe?x:w)+":"+(i+parseFloat(f))+"px;"),a&&(b+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),p._isStart=v,p.setAttribute("class","gsap-marker-"+e),p.style.cssText=b,p.innerText=t||0===t?e+"-"+t:e,h.insertBefore(p,h.children[0]),p._offset=p["offset"+n.op.d2],T(p,0,n,d,v),p}function sa(){return l=l||s(n)}function ta(){l||(l=s(n),Fe||v("scrollStart"),Fe=Pe())}function ua(){return!_e&&200<Pe()-Fe&&a.restart(!0)}function xa(e){var t=Ve.length,r=0;for(v("refreshInit");r<t;r++)Ve[r].refresh(!0!==e);v("refresh")}function Ba(e,t,r){if(e.parentNode===t){var n=t.parentNode;$e(r),n&&(n.insertBefore(e,t),n.removeChild(t))}}function Ca(e,t,r){if(e.parentNode!==t){for(var n,o=m.length,i=t.style,a=e.style;o--;)i[n=m[o]]=r[n];i.position="absolute"===r.position?"absolute":"relative",a[w]=a[x]="auto",i.overflow="visible",i.boxSizing="border-box",i[Ae]=fa(e,qe)+We,i[Le]=fa(e,Xe)+We,i[Re]=a[je]=a[d]=a[p]="0",a[Ae]=r[Ae],a[Le]=r[Le],a[Re]=r[Re],e.parentNode.insertBefore(t,e),t.appendChild(e)}}function Fa(e){for(var t=b.length,r=e.style,n=[],o=0;o<t;o++)n.push(b[o],r[b[o]]);return n.t=e,n}function Ia(e,t,r,n,o,i,a,s,l,c,f,u){if(G(e)&&(e=e(s)),F(e)&&"max"===e.substr(0,3)&&(e=u+("="===e.charAt(4)?na("0"+e.substr(3),r):0)),H(e))a&&T(a,r,n,f,!0);else{G(t)&&(t=t(s));var p,d,g,h=Se(t)[0]||Te,v=ea(h)||{},m=e.split(" ");v&&(v.left||v.top)||"none"!==ba(h).display||(g=h.style.display,h.style.display="block",v=ea(h),g?h.style.display=g:h.style.removeProperty("display")),p=na(m[0],v[n.d]),d=na(m[1]||"0",r),e=v[n.p]-l[n.p]-c+p+o-d,a&&T(a,d,n,f,r-d<20||a._isStart&&20<d),r-=r-d}if(i){var b=e+r,x=i._isStart;u="scroll"+n.d2,T(i,b,n,f,x&&20<b||!x&&(f?Math.max(Te[u],y[u]):i.parentNode[u])<=b+1),f&&(l=ea(a),f&&(i.style[n.op.p]=l[n.op.p]-n.op.m-i._offset+We))}return Math.round(e)}function La(l,e){var c,f=C(l)?e.sc:D(l,e),u="_scroll"+e.p2;return l[u]=f,function getTween(e,t,r,n,o){var i=getTween.tween,a=t.onComplete,s={};return i&&i.kill(),c=f(),t[u]=e,(t.modifiers=s)[u]=function(e){return f()!==c?(i.kill(),getTween.tween=0,e=f()):n&&(e=r+n*i.ratio+o*i.ratio*i.ratio),c=Math.round(e)},t.onComplete=function(){getTween.tween=0,a&&a.call(i)},i=getTween.tween=xe.to(l,t)}}var xe,o,ye,we,y,Te,i,a,s,l,Se,Ce,ke,c,_e,Oe,f,Ee=1,Pe=Date.now,u=Pe(),Fe=0,Me=1,ze=Math.abs,t="scrollLeft",r="scrollTop",p="left",d="top",x="right",w="bottom",Ae="width",Le="height",Be="Right",Ie="Left",Ne="Top",De="Bottom",Re="padding",je="margin",Ge="Width",He="Height",We="px",qe={s:t,p:p,p2:Ie,os:x,os2:Be,d:Ae,d2:Ge,a:"x",sc:function sc(e){return arguments.length?ye.scrollTo(e,Xe.sc()):ye.pageXOffset||we[t]||y[t]||Te[t]||0}},Xe={s:r,p:d,p2:Ne,os:w,os2:De,d:Le,d2:He,a:"y",op:qe,sc:function sc(e){return arguments.length?ye.scrollTo(qe.sc(),e):ye.pageYOffset||we[r]||y[r]||Te[r]||0}},Ye={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Ue={toggleActions:"play",anticipatePin:0},g={top:0,left:0,center:.5,bottom:1,right:1},T=function _positionMarker(e,t,r,n,o){var i={},a=r[o?"os2":"p2"],s=r[o?"p2":"os2"];e._isFlipped=o,i[r.a+"Percent"]=o?-100:0,i[r.a]=o?1:0,i["border"+a+Ge]=1,i["border"+s+Ge]=0,i[r.p]=t,xe.set(e,i)},Ve=[],Ze={},h={},v=function _dispatch(e){return h[e]&&h[e].forEach(function(e){return e()})},n=function _updateAll(){var e=Ve.length,t=0,r=Pe(),n=50<=r-u;for(n&&(Fe&&!Oe&&200<r-Fe&&(Fe=0,v("scrollEnd")),ke=u,u=r);t<e;t++)Ve[t]&&Ve[t].update(0,n);l=0},m=[p,d,w,x,je+De,je+Be,je+Ne,je+Ie,"display","flexShrink"],b=m.concat([Ae,Le,"boxSizing","max"+Ge,"max"+He,"position",je,Re,Re+Ne,Re+Be,Re+De,Re+Ie]),S=/([A-Z])/g,$e=function _setState(e){for(var t,r,n=e.t.style,o=e.length,i=0;i<o;i+=2)r=e[i+1],t=e[i],r?n[t]=r:n[t]&&n.removeProperty(t.replace(S,"-$1").toLowerCase())},Je={left:0,top:0},Ke=/(?:webkit|moz|length)/i;qe.op=Xe;var k=(ScrollTrigger.prototype.init=function init(h,v){var e=this;if(this.progress=0,this.vars&&this.kill(1),Me){var d,t,c,m,g,b,x,y,w,T,S,k,r,_,O,P,M,A,n,L,B,N,R,j,W,q,o,X,Y,U,V,i,f,Z,$,J=(h=da(F(h)||H(h)||h.nodeType?{trigger:h}:h,Ue)).horizontal?qe:Xe,K=h.onUpdate,Q=h.toggleClass,a=h.id,ee=h.onToggle,te=h.onRefresh,s=h.scrub,re=h.trigger,ne=h.pin,oe=h.pinSpacing,ie=h.invalidateOnRefresh,ae=h.anticipatePin,l=h.onScrubComplete,u=h.onSnapComplete,se=h.once,le=h.snap,ce=h.pinReparent,fe=!s&&0!==s,ue=Se(h.scroller||ye)[0],p=xe.core.getCache(ue),pe=C(ue),de=[h.onEnter,h.onLeave,h.onEnterBack,h.onLeaveBack],ge=fe&&(se?"play":h.toggleActions).split(" "),he="markers"in h?h.markers:Ue.markers,ve=pe?0:parseFloat(ba(ue)["border"+J.p2+Ge])||0,me=function softRefresh(){return ScrollTrigger.removeEventListener("scrollEnd",softRefresh)||e.refresh()},be=this;ae*=45,Ve.push(be),be.scroller=ue,be.scroll=pe?J.sc:D(ue,J),g=be.scroll(),be.vars=h,v=v||h.animation,p.tweenScroll=p.tweenScroll||{top:La(ue,Xe),left:La(ue,qe)},be.tweenTo=d=p.tweenScroll[J.p],v&&(v.vars.lazy=!1,v._initted||!1!==v.vars.immediateRender&&v.render(0,!0,!0),be.animation=v.pause(),v.scrollTrigger=be,(i=H(s)&&s)&&(V=xe.to(v,{ease:"power3",duration:i,onComplete:function onComplete(){return l&&l(be)}})),X=0,a=a||v.vars.id),le&&(I(le)||(le={snapTo:le}),c=G(le.snapTo)?le.snapTo:"labels"===le.snapTo?function _getLabels(i){return function(e){var t,r=[],n=i.labels,o=i.duration();for(t in n)r.push(n[t]/o);return xe.utils.snap(r,e)}}(v):xe.utils.snap(le.snapTo),f=le.duration||{min:.1,max:2},f=I(f)?Ce(f.min,f.max):Ce(f,f),Z=xe.delayedCall(le.delay||i/2||.1,function(){if(!Fe||Fe===U&&!Oe){var e=v&&!fe?v.totalProgress():be.progress,t=(e-Y)/(Pe()-ke)*1e3||0,r=ze(t/2)*t/.185,n=e+r,o=Ce(0,1,c(n,be)),i=o-e-r,a=be.scroll(),s=Math.round(x+o*_),l=d.tween;if(a<=y&&x<=a){if(l&&!l._initted){if(l.data<=Math.abs(s-a))return;l.kill()}d(s,{duration:f(ze(.185*Math.max(ze(n-e),ze(o-e))/t/.05||0)),ease:le.ease||"power3",data:Math.abs(s-a),onComplete:function onComplete(){X=Y=v&&!fe?v.totalProgress():be.progress,u&&u(be)}},x+e*_,r*_,i*_)}}else Z.restart(!0)}).pause()),a&&(Ze[a]=be),re=be.trigger=Se(re||ne)[0],ne=!0===ne?re:Se(ne)[0],F(Q)&&(Q={targets:re,className:Q}),ne&&(!1===oe||oe===je||(oe="flex"!==ba(ne.parentNode).display&&Re),be.pin=ne,!1!==h.force3D&&xe.set(ne,{force3D:!0}),(t=xe.core.getCache(ne)).spacer?O=t.pinState:(t.spacer=A=we.createElement("div"),A.setAttribute("class","pin-spacer"+(a?" pin-spacer-"+a:"")),t.pinState=O=Fa(ne)),be.spacer=A=t.spacer,o=ba(ne),R=o[oe+J.os2],L=xe.getProperty(ne),B=xe.quickSetter(ne,J.a,We),Ca(ne,A,o),M=Fa(ne)),he&&(r=I(he)?da(he,Ye):Ye,S=oa("scroller-start",a,ue,J,r,0),k=oa("scroller-end",a,ue,J,r,0,S),n=S["offset"+J.op.d2],w=oa("start",a,ue,J,r,n),T=oa("end",a,ue,J,r,n),pe||(function _makePositionable(e){e.style.position="absolute"===ba(e).position?"absolute":"relative"}(ue),xe.set([S,k],{force3D:!0}),W=xe.quickSetter(S,J.a,We),q=xe.quickSetter(k,J.a,We))),be.revert=function(){be.update(1),ne&&Ba(ne,A,O),m=1},be.refresh=function(e){if(!_e&&$)if(ne&&e&&Fe)ia(ScrollTrigger,"scrollEnd",me);else{var t=be.scroll(),r=be.progress;_e=1,V&&V.kill(),ie&&v&&v.progress(0).invalidate().progress(be.progress),m||be.revert();var n,o,i,a,s,l=(pe?ye["inner"+J.d2]:ue["client"+J.d2])||0,c=pe?Je:ea(ue),f=E(ue,J),u=0,p=h.end,d=h.endTrigger||re,g=h.start||(ne||!re?"0 0":"0 100%");if(x=Ia(g,re,l,J,be.scroll(),w,S,be,c,ve,pe,f)||(ne?-.001:0),G(p)&&(p=p(be)),F(p)&&!p.indexOf("+=")&&(~p.indexOf(" ")?p=(F(g)?g.split(" ")[0]:"")+p:(u=na(p.substr(2),l),p=F(g)?g:x+u,d=re)),y=Math.max(x,Ia(p||(d?"100% 0":f),d,l,J,be.scroll()+u,T,k,be,c,ve,pe,f))||-.001,_=y-x||(x-=.01)&&.001,ne)n=ba(ne),a=J===Xe,i=be.scroll(),N=parseFloat(L(J.a)),Ca(ne,A,n),M=Fa(ne),o=ea(ne,!0),oe&&(A.style[oe+J.os2]=_+We,(j=oe===Re?fa(ne,J)+_:0)&&(A.style[J.d]=j+We),pe&&be.scroll(i)),pe&&((s={top:o.top+(a?i-x:0)+We,left:o.left+(a?0:i-x)+We,boxSizing:"border-box",position:"fixed"})[Ae]=s.maxWidth=Math.ceil(o.width)+We,s[Le]=s["max"+He]=Math.ceil(o.height)+We,s[je]=s[je+Ne]=s[je+Be]=s[je+De]=s[je+Ie]="0",s[Re]=n[Re],s[Re+Ne]=n[Re+Ne],s[Re+Be]=n[Re+Be],s[Re+De]=n[Re+De],s[Re+Ie]=n[Re+Ie],P=function _copyState(e,t,r){for(var n,o=[],i=e.length,a=r?8:0;a<i;a+=2)n=e[a],o.push(n,n in t?t[n]:e[a+1]);return o.t=e.t,o}(O,s,ce));else if(re&&be.scroll())for(o=re.parentNode;o&&o!==Te;)o._pinOffset&&(x-=o._pinOffset,y-=o._pinOffset),o=o.parentNode;be.start=x,be.end=y,be.scroll()<t&&be.scroll(t),be.update(),_e=m=0,r!==be.progress&&(V&&v.totalProgress(r,!0),be.progress=r,be.update()),ne&&oe&&(A._pinOffset=Math.round(be.progress*_)),te&&te(be)}},be.getVelocity=function(){return(be.scroll()-b)/(Pe()-ke)*1e3},be.update=function(e,t){var r,n,o,i,a,s=be.scroll(),l=e?0:(s-x)/_,c=l<0?0:1<l?1:l||0,f=be.progress;if(t&&(b=g,g=s,le&&(Y=X,X=v&&!fe?v.totalProgress():c)),ae&&!c&&ne&&!_e&&x<s+(s-b)/(Pe()-ke)*ae&&(c=1e-4),c!==f&&$){if(i=(a=(r=be.isActive=!!c&&c<1)!=(!!f&&f<1))||!!c!=!!f,be.direction=f<c?1:-1,be.progress=c,ne)if(e&&oe&&(A.style[oe+J.os2]=R),pe){if(i){if(o=s+1>=E(ue,J),ce){if(!_e&&(r||o)){var u=ea(ne,!0),p=s-x;ne.style.top=u.top+(J===Xe?p:0)+We,ne.style.left=u.left+(J===Xe?0:p)+We}!function _reparent(e,t){if(e.parentNode!==t){var r,n,o=e.style;if(t===Te)for(r in e._stOrig=o.cssText,n=ba(e))+r||Ke.test(r)||!n[r]||"string"!=typeof o[r]||"0"===r||(o[r]=n[r]);else o.cssText=e._stOrig;t.appendChild(e)}}(ne,_e||!r&&!o?A:Te)}$e(r||o?P:M),B(N+(1!==c||o?0:_))}}else B(N+_*c);fe||(!V||_e||Ee?v&&v.totalProgress(c,!!_e):(V.vars.totalProgress=c,V.invalidate().restart()),K&&!e&&K(be)),!le||d.tween||_e||Ee||(U=Fe,Z.restart(!0)),i&&!_e?(n=c&&!f?0:1===c?1:1===f?2:3,1===c&&se?be.kill():fe&&(o=ge[n],v&&("complete"===o||"reset"===o||o in v)&&("complete"===o?v.pause().totalProgress(1):"reset"===o?v.restart(!0).pause():v[o]()),K&&K(be)),Q&&a&&Se(Q.targets).forEach(function(e){return e.classList.toggle(Q.className)}),ee&&a&&ee(be),de[n]&&de[n](be),se&&(de[n]=0),a||de[n=1===c?1:3]&&de[n](be)):fe&&K&&!_e&&K(be)}q&&(W(s+(S._isFlipped?1:0)),q(s))},be.enable=function(){$||($=!0,ia(ue,"resize",ua),ia(ue,"scroll",ta),v&&(v.add?xe.delayedCall(.01,be.refresh):be.refresh()))},be.disable=function(e){if($&&(e!==($=be.isActive=!1)&&be.update(1),ne&&Ba(ne,A,O),!pe)){for(var t=Ve.length;t--;)if(Ve[t].scroller===ue&&Ve[t]!==be)return;ja(ue,"resize",ua),ja(ue,"scroll",ta)}},be.kill=function(e){be.disable(e),a&&delete Ze[a],Ve.splice(Ve.indexOf(be),1),v&&(v.scrollTrigger=null)},be.enable()}else this.update=this.refresh=this.kill=z},ScrollTrigger.register=function register(e){if(xe=e||B(),A()&&window.document&&(ye=window,we=document,y=we.documentElement),xe&&(Se=xe.utils.toArray,Ce=xe.utils.clamp,xe.core.globals("ScrollTrigger",ScrollTrigger)),y){Te=we.body,s=ye.requestAnimationFrame||function(e){return setTimeout(e,16)},ia(ye,"mousewheel",ta),i=[ye,we,y,Te],ia(we,"scroll",ta);var t,r=Te.style,n=r.borderTop;r.borderTop="1px solid #000",t=ea(Te),Xe.m=Math.round(t.top+Xe.sc())||0,qe.m=Math.round(t.left+qe.sc())||0,n?r.borderTop=n:r.removeProperty("border-top"),c=setInterval(sa,100),xe.delayedCall(.5,function(){return Ee=0}),ia(we,"touchcancel",z),ia(Te,"touchstart",z),ha(ia,we,"pointerdown,touchstart,mousedown",function(){return Oe=1}),ha(ia,we,"pointerup,touchend,mouseup",function(){return Oe=0}),f=xe.utils.checkPrefix("transform"),b.push(f),o=Pe(),a=xe.delayedCall(.2,xa).pause(),ia(we,"visibilitychange",function(){return we.hidden||xa()}),ia(we,"DOMContentLoaded",xa),ia(ye,"load",function(){return Fe||xa()}),ia(ye,"resize",ua)}return o},ScrollTrigger.defaults=function defaults(e){for(var t in e)Ue[t]=e[t]},ScrollTrigger.kill=function kill(){Me=0,Ve.slice(0).forEach(function(e){return e.kill(1)})},ScrollTrigger);function ScrollTrigger(e,t){o||ScrollTrigger.register(xe)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),this.init(e,t)}k.version="3.3.1",k.create=function(e,t){return new k(e,t)},k.refresh=function(e){return e?ua():xa(!0)},k.update=n,k.maxScroll=function(e,t){return E(e,t?qe:Xe)},k.getScrollFunc=function(e,t){return(t=t?qe:Xe)&&(C(e)?t.sc:D(e,t))},k.getById=function(e){return Ze[e]},k.getAll=function(){return Ve.slice(0)},k.syncInterval=function(e){return clearInterval(c)||(c=e)&&setInterval(sa,e)},k.isScrolling=function(){return!!Fe},k.addEventListener=function(e,t){var r=h[e]||(h[e]=[]);~r.indexOf(t)||r.push(t)},k.removeEventListener=function(e,t){var r=h[e],n=r&&r.indexOf(t);0<=n&&r.splice(n,1)},k.batchCallbacks=function(e,o){function kg(e,t){var r=[],n=xe.delayedCall(i,function(){t(r),r.length=0}).pause();return function(e){r.length||n.restart(!0),r.push(e.trigger),o.batchMax&&o.batchMax<=r.length&&n.progress(1)}}var r,n={},i=o.interval||.1;for(r in o)n[r]=~r.indexOf("Enter")||~r.indexOf("Leave")?kg(0,o[r]):o[r];Se(e).forEach(function(e){var t={};for(r in n)t[r]=n[r];t.trigger=e,k.create(t)})},B()&&xe.registerPlugin(k),e.ScrollTrigger=k,e.default=k;if (typeof(window)==="undefined"||window!==e){Object.defineProperty(e,"__esModule",{value:!0})} else {delete e.default}});
